"use strict";(()=>{var W=Object.freeze,B=Object.defineProperty;var Q=(n,t,e)=>t in n?B(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var o=(n,t,e)=>(Q(n,typeof t!="symbol"?t+"":t,e),e),D=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var i=(n,t,e)=>(D(n,t,"read from private field"),e?e.call(n):t.get(n)),d=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},p=(n,t,e,s)=>(D(n,t,"write to private field"),s?s.call(n,e):t.set(n,e),e);var L=(n,t)=>W(B(n,"raw",{value:W(t||n.slice())}));var X=n=>({prefix:t="",suffix:e=""}={})=>n.reduce((s,m)=>(s[m]=t+m+e,s),{}),Y=n=>({prefix:t="",suffix:e=""}={})=>n.reduce((s,m)=>(Object.assign(s,{[m]:document.getElementById("".concat(t).concat(m).concat(e))}),s),{}),Z=n=>{let t=X(n),e=Y(n);return{getElementIds:t,getElements:e}},_=(n,t)=>{let e=document.createElement("div");for(e.innerHTML=t;e.children.length>0;){let s=e.firstChild;e.removeChild(s),n.appendChild(s)}},b=class{constructor(t,e,s,m){o(this,"elementIds");o(this,"elements");let{getElementIds:l,getElements:r}=Z(s);this.elementIds=l(m),_(t,e(this.elementIds)),this.elements=r(m)}};var k=[],A=new Set,M=!1,ee=()=>{if(!M)try{for(M=!0;A.size>0;){let[n]=[...A];n==null||n.compute()}}finally{M=!1}},w,O,F,z,S=class{constructor(){d(this,w,new Set);d(this,O,new Set);d(this,F,(...t)=>{for(let e of t)i(this,O).add(e)});o(this,"callBeforeGetValue",()=>{let[t]=k;t!=null&&i(this,F).call(this,t)});o(this,"callAfterSetChangesValue",(t,e)=>{for(let s of i(this,O))s.invalidate();i(this,z).call(this,t,e),ee()});d(this,z,(t,e)=>{for(let s of i(this,w))try{s(t,e)}catch(m){}});o(this,"onChange",t=>i(this,w).add(t));o(this,"listen",t=>{this.onChange(t),t(this.value,this.value)})}};w=new WeakMap,O=new WeakMap,F=new WeakMap,z=new WeakMap;var h,E,$,y,c=class extends S{constructor({initialValue:e,element:s},m){super();d(this,h,void 0);d(this,E,void 0);d(this,$,()=>{let e=i(this,E);p(this,E,i(this,h).value),this.callAfterSetChangesValue(i(this,h).value,e)});d(this,y,void 0);p(this,y,m),p(this,h,s),e!=null&&(i(this,h).value=e),i(this,h).addEventListener("input",()=>i(this,$).call(this)),i(this,h).addEventListener("change",()=>i(this,$).call(this))}get element(){return i(this,h)}get value(){return this.callBeforeGetValue(),i(this,h).value}set value(e){let s=i(this,h).value;i(this,y)!=null&&console.log("Update ".concat(i(this,y)),e,s),e!==s&&(i(this,h).value=p(this,E,e),this.callAfterSetChangesValue(e,s))}};h=new WeakMap,E=new WeakMap,$=new WeakMap,y=new WeakMap;var x,v=class extends S{constructor(e){super();d(this,x,void 0);p(this,x,e)}get value(){return this.callBeforeGetValue(),i(this,x)}set value(e){let s=i(this,x);s!==e&&(p(this,x,e),this.callAfterSetChangesValue(e,s))}};x=new WeakMap;var I,f,V,u=class extends S{constructor(e,s){super();this.logAs=s;d(this,I,void 0);d(this,f,!1);o(this,"compute",()=>{let e=i(this,I);k.unshift(this);let s;try{return p(this,I,s=i(this,V).call(this)),p(this,f,!0),s}finally{this.logAs!=null&&console.log("Computed ".concat(this.logAs),s),k.shift(),A.delete(this),i(this,f)&&s!==e&&this.callAfterSetChangesValue(s,e)}});d(this,V,void 0);p(this,V,e)}get valid(){return!i(this,f)}invalidate(){p(this,f,!1),A.add(this)}get value(){return this.callBeforeGetValue(),i(this,f)?i(this,I):this.compute()}};I=new WeakMap,f=new WeakMap,V=new WeakMap;var P={welcome:"welcome",prefer:"prefer",decline:"decline"},ne=["affiliateTextInputElement","nameTextInputElement","nameTagLine1TextInputElement","nameTagLine2TextInputElement","nameTagLine3TextInputElement","nameTagLine4TextInputElement","preferredThirdPersonPronounTextInputElement","opennessToTheyPronounsWelcome","opennessToTheyPronounsDecline","opennessToTheyPronounsWelcomeLabel","opennessToTheyPronounsPreferLabel","opennessToTheyPronounsDeclineLabel","opennessToTheyPronounsRadioButtonContainer"],te=[...ne],se=String.raw,j,oe=n=>se(j||(j=L(['\n<div class="registration-form">\n  <div class="form-input-container">\n    <label for="','">name</label>\n    <input type="text" size="30" id="','" autocapitalize="words" placeholder="" />\n  </div>\n  <div class="form-input-container">\n    <label for="','">affiliations(s)</label>\n    <input type="text" size="30" id="','" />\n  </div>\n  <div class="form-input-container">\n    <label for="','">preferred pronouns</label>\n    <input type="text" id="','" autocapitalize="none" placeholder="they/them" />\n  </div>\n	<div id="','" class="radio-group-container">\n		<div class="radio-element-and-label-container">\n			<input type="radio" name="opennessToTheyPronouns" value="welcome" id="','" />\n			<label id="','" for="','">I welcome gender-neutral (<i>they</i>) pronouns.<br/>(this promotes inclusivity)</label>\n		</div>'])),n.nameTextInputElement,n.nameTextInputElement,n.affiliateTextInputElement,n.affiliateTextInputElement,n.preferredThirdPersonPronounTextInputElement,n.preferredThirdPersonPronounTextInputElement,n.opennessToTheyPronounsRadioButtonContainer,n.opennessToTheyPronounsWelcome,n.opennessToTheyPronounsWelcomeLabel,n.opennessToTheyPronounsWelcome)+'\n		<div class="radio-element-and-label-container">\n			<input type="radio" name="opennessToTheyPronouns" value="decline" id="'.concat(n.opennessToTheyPronounsDecline,'" />\n			<label id="').concat(n.opennessToTheyPronounsDeclineLabel,'" for="').concat(n.opennessToTheyPronounsDecline,'">I prefer other pronouns <b>only</b>.</label>\n		</div>\n	</div>\n  <div class="form-input-container">\n    <label for="').concat(n.nameTagLine1TextInputElement,'">name tag contents</label>\n    <input type="text" size="30" id="').concat(n.nameTagLine1TextInputElement,'"/>\n    <input type="text" size="30" id="').concat(n.nameTagLine2TextInputElement,'"/>\n    <input type="text" size="30" id="').concat(n.nameTagLine3TextInputElement,'"/>\n    <input type="text" size="30" id="').concat(n.nameTagLine4TextInputElement,'"/>\n  </div>\n</div>\n'),N=class extends b{constructor(e,s){super(e,oe,te,s);o(this,"nameTextInputElement");o(this,"affiliateTextInputElement");o(this,"preferredThirdPersonPronounTextInputElement");o(this,"opennessToTheyPronouns",new v(P.welcome));o(this,"nameTagLine1ObservableTextInputElement");o(this,"nameTagLine2ObservableTextInputElement");o(this,"nameTagLine3ObservableTextInputElement");o(this,"nameTagLine4ObservableTextInputElement");o(this,"nameTagLine1TextInputElementOverride",new v(!1));o(this,"nameTagLine2TextInputElementOverride",new v(!1));o(this,"nameTagLine3TextInputElementOverride",new v(!1));o(this,"nameTagLine4TextInputElementOverride",new v(!1));o(this,"preferredThirdPersonPronounsFromInputText",new u(()=>{let e=/[\s\/,]+/;return this.preferredThirdPersonPronounTextInputElement.value.split(e).map(s=>s.trim()).filter(s=>s.length>0)}));o(this,"preferredThirdPersonPronounsFromInputTextSeparatedBySlash",new u(()=>this.preferredThirdPersonPronounsFromInputText.value.join("/")));o(this,"preferredThirdPersonPronounsFromInputTextContainsThey",new u(()=>this.preferredThirdPersonPronounsFromInputText.value.find(e=>e.toLocaleLowerCase()==="they")!=null));o(this,"preferredThirdPersonPronouns",new u(()=>this.preferredThirdPersonPronounsFromInputText.value.length===0?["they","them"]:[...this.preferredThirdPersonPronounsFromInputText.value,...this.opennessToTheyPronouns.value===P.prefer&&this.preferredThirdPersonPronounsFromInputTextContainsThey.value===!1?["they"]:[]]));o(this,"myOwnThirdPartyPronouns",new u(()=>this.preferredThirdPersonPronounsFromInputText.value.length>0?this.preferredThirdPersonPronounsFromInputText.value.join("/"):"my own pronouns"));o(this,"theyIsAmongPreferredThirdPersonPronouns",new u(()=>this.preferredThirdPersonPronouns.value.find(e=>e.toLocaleLowerCase()==="they")!=null));o(this,"firstName",new u(()=>{var e;return(e=this.nameTextInputElement.value.trim().split(" ").filter(s=>!s.endsWith("."))[0])!=null?e:""}));o(this,"nameTagLine1TextInputElementPlaceholder",new u(()=>this.firstName.value));o(this,"nameTagLine1",new u(()=>this.nameTagLine1ObservableTextInputElement.value.length>0?this.nameTagLine1ObservableTextInputElement.value:this.nameTagLine1TextInputElementPlaceholder.value));o(this,"nameTagLine2TextInputElementPlaceholder",new u(()=>{let e=this.nameTextInputElement.value,s=this.nameTagLine1.value;return e.startsWith(s)?e.slice(s.length).trim():e}));o(this,"nameTagLine2",new u(()=>this.nameTagLine2ObservableTextInputElement.value.length>0?this.nameTagLine2ObservableTextInputElement.value:this.nameTagLine2TextInputElementPlaceholder.value));o(this,"nameTagLine3TextInputElementPlaceholder",new u(()=>this.affiliateTextInputElement.value));o(this,"nameTagLine3",new u(()=>this.nameTagLine3ObservableTextInputElement.value.length>0?this.nameTagLine3ObservableTextInputElement.value:this.nameTagLine3TextInputElementPlaceholder.value));o(this,"nameTagLine4TextInputElementPlaceholder",new u(()=>{let e=this.opennessToTheyPronouns.value===P.welcome&&!this.theyIsAmongPreferredThirdPersonPronouns.value,s=this.opennessToTheyPronouns.value===P.decline&&!this.theyIsAmongPreferredThirdPersonPronouns.value;return"".concat(this.preferredThirdPersonPronouns.value.join("/")).concat(e?" <i>or they</i>":"").concat(s?" <b>only</b>":"")}));o(this,"nameTagLine4",new u(()=>this.nameTagLine4ObservableTextInputElement.value.length>0?this.nameTagLine4ObservableTextInputElement.value:this.nameTagLine4TextInputElementPlaceholder.value));o(this,"prefersThey",new u(()=>this.preferredThirdPersonPronounsFromInputText.value.length===0||this.preferredThirdPersonPronounsFromInputTextContainsThey.value===!0));this.nameTextInputElement=new c({initialValue:"",element:this.elements.nameTextInputElement}),this.affiliateTextInputElement=new c({initialValue:"",element:this.elements.affiliateTextInputElement}),this.preferredThirdPersonPronounTextInputElement=new c({initialValue:"",element:this.elements.preferredThirdPersonPronounTextInputElement}),this.myOwnThirdPartyPronouns.listen(l=>{this.elements.opennessToTheyPronounsDeclineLabel.textContent="I prefer ".concat(this.prefersThey.value?"other pronouns":l),this.elements.opennessToTheyPronounsDeclineLabel.innerHTML+=" <i>only</i>."});let m=[[this.elements.opennessToTheyPronounsDecline,this.elements.opennessToTheyPronounsDeclineLabel,P.decline],[this.elements.opennessToTheyPronounsWelcome,this.elements.opennessToTheyPronounsWelcomeLabel,P.welcome]];this.prefersThey.listen(l=>{m.forEach(([r,a])=>{l?(r.setAttribute("disabled",""),a!==this.elements.opennessToTheyPronounsWelcomeLabel&&a.style.setProperty("color","rgba(128, 128, 128, 0.4")):(r.removeAttribute("disabled"),a.style.removeProperty("color"))})}),m.forEach(([l,r,a])=>{l.addEventListener("change",()=>{this.opennessToTheyPronouns.value=a}),r.addEventListener("click",()=>{this.prefersThey.value||(this.opennessToTheyPronouns.value=a)}),this.opennessToTheyPronouns.listen(T=>{a===T?l.setAttribute("checked",""):l.removeAttribute("checked")})}),this.nameTagLine1ObservableTextInputElement=new c({initialValue:"",element:this.elements.nameTagLine1TextInputElement}),this.nameTagLine2ObservableTextInputElement=new c({initialValue:"",element:this.elements.nameTagLine2TextInputElement}),this.nameTagLine3ObservableTextInputElement=new c({initialValue:"",element:this.elements.nameTagLine3TextInputElement}),this.nameTagLine4ObservableTextInputElement=new c({initialValue:"",element:this.elements.nameTagLine4TextInputElement});for(let[l,r,a]of[[this.nameTagLine1TextInputElementPlaceholder,this.nameTagLine1ObservableTextInputElement,this.nameTagLine1TextInputElementOverride],[this.nameTagLine2TextInputElementPlaceholder,this.nameTagLine2ObservableTextInputElement,this.nameTagLine2TextInputElementOverride],[this.nameTagLine3TextInputElementPlaceholder,this.nameTagLine3ObservableTextInputElement,this.nameTagLine3TextInputElementOverride],[this.nameTagLine4TextInputElementPlaceholder,this.nameTagLine4ObservableTextInputElement,this.nameTagLine4TextInputElementOverride]])l.listen(T=>{r.element.setAttribute("placeholder",T!=null?T:""),a.value||(r.value=T)}),r.element.addEventListener("blur",()=>{a.value=r.value.length>0&&r.value!==l.value})}get name(){return this.nameTextInputElement.value.trim()}};var ae=n=>{let t=n.trim(),e=parseFloat(t.slice(0,-2)),s=t.slice(-2);return{magnitude:e,units:s}},ie=(n,t)=>{let e=ae(n.getAttribute("font-size")),s=e.magnitude;return()=>{let l=n.getComputedTextLength(),r=Math.min(e.magnitude,s*t/l);r!=s&&(s=r,n.setAttribute("font-size","".concat(s).concat(e.units)))}},le=n=>{let t=n,e=0,s={bold:!1,italics:!1,underline:!1},m={b:a=>{s.bold=!a},i:a=>{s.italics=!a},u:a=>{s.underline=!a}},l=[],r=a=>{let T=document.createElementNS("http://www.w3.org/2000/svg","tspan");T.textContent=a,s.underline&&(T.style.textDecoration="underline"),s.bold&&(T.style.fontWeight="bold"),s.italics&&(T.style.fontStyle="italic"),l.push(T)};for(;;){let a=t.indexOf("<",e);if(a<0)return r(t),l;let T=t.substring(a+1,a+2)==="/",H=t.indexOf(">",a+1);if(H<0)return r(t),l;let K=t.substring(a+(T?2:1),H).toLocaleLowerCase(),G=m[K];G!=null?(a>0&&r(t.substring(0,a)),G(T),t=t.substring(H+1),e=0):e=a+1}},re=["nameTagSvg"],me=["nameTagLine1SvgText","nameTagLine2SvgText","nameTagLine3SvgText","nameTagLine4SvgText"],ue=[...re,...me],g=9,C=9,J=String.raw,q,Te=n=>J(q||(q=L(['\n<svg id="','" viewBox="0 0 '," ",'" style="width: ',"cm; height: ",'cm; font-family: sans-serif; margin: 0; background-color: white;">\n	<text id="','" dominant-baseline="middle" text-anchor="middle" x="','" y="1.7" font-size="1.75pt" style="font-weight: bold;"></text>\n	<text id="','" dominant-baseline="middle" text-anchor="middle" x="','" y="3" font-size="0.8pt"></text>\n	<text id="','" dominant-baseline="middle" text-anchor="middle" x="','" y="4.35" font-size="0.6pt"></text>\n	<text id="','" dominant-baseline="middle" text-anchor="middle" x="','" y="5.35" font-size="0.45pt"></text>\n	<rect x="0" y="','" height="3.1" width="','" style="fill: rgba(64, 0, 0, 1);"></rect>\n	<text id="logoPlaceholder1" dominant-baseline="middle" text-anchor="middle" x="','" y="','" font-size="0.65pt" style="font-weight: bold; fill: white;">\n		<tspan>Event Branding</tspan>\n	</text>\n	<text id="logoPlaceholder2" dominant-baseline="middle" text-anchor="middle" x="','" y="','" font-size="0.65pt" style="font-weight: bold; fill: white;">\n		<tspan>Belongs Here</tspan>\n	</text>\n</svg>\n'])),n.nameTagSvg,g,C,g,C,n.nameTagLine1SvgText,g/2,n.nameTagLine2SvgText,g/2,n.nameTagLine3SvgText,g/2,n.nameTagLine4SvgText,g/2,C-3,g,g/2,C-2,g/2,C-.8),U,de=n=>{let t=Te(n);return J(U||(U=L(['\n<label class="name-tag-preview-label">your name tag will look like this</label>\n<div class="name-tag-container">\n	',"\n</div>\n"])),t)},he=8,R=class extends b{constructor(e,s,m){super(e,de,ue,m);this.observes=s;for(let[l,r]of[[this.elements.nameTagLine1SvgText,this.observes.nameTagLine1],[this.elements.nameTagLine2SvgText,this.observes.nameTagLine2],[this.elements.nameTagLine3SvgText,this.observes.nameTagLine3],[this.elements.nameTagLine4SvgText,this.observes.nameTagLine4]]){let a=ie(l,he);r.listen(T=>{l.replaceChildren(...le(T)),a()})}}};document.addEventListener("DOMContentLoaded",()=>{let n=document.querySelector("[data-registration-form-here]");if(n==null)return;let t=new N(n);new R(n,t)});})();
//# sourceMappingURL=registration-pronouns.js.map
