"use strict";(()=>{var B=Object.freeze,D=Object.defineProperty;var X=(n,t,e)=>t in n?D(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var a=(n,t,e)=>(X(n,typeof t!="symbol"?t+"":t,e),e),j=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var o=(n,t,e)=>(j(n,t,"read from private field"),e?e.call(n):t.get(n)),d=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},p=(n,t,e,s)=>(j(n,t,"write to private field"),s?s.call(n,e):t.set(n,e),e);var P=(n,t)=>B(D(n,"raw",{value:B(t||n.slice())}));var Y=n=>({prefix:t="",suffix:e=""}={})=>n.reduce((s,m)=>(s[m]=t+m+e,s),{}),Z=n=>({prefix:t="",suffix:e=""}={})=>n.reduce((s,m)=>(Object.assign(s,{[m]:document.getElementById("".concat(t).concat(m).concat(e))}),s),{}),_=n=>{let t=Y(n),e=Z(n);return{getElementIds:t,getElements:e}},ee=(n,t)=>{let e=document.createElement("div");for(e.innerHTML=t;e.children.length>0;){let s=e.firstChild;e.removeChild(s),n.appendChild(s)}},b=class{constructor(t,e,s,m){a(this,"elementIds");a(this,"elements");let{getElementIds:i,getElements:r}=_(s);this.elementIds=i(m),ee(t,e(this.elementIds)),this.elements=r(m)}};var G=[],A=new Set,k=!1,ne=()=>{if(!k)try{for(k=!0;A.size>0;){let[n]=[...A];n==null||n.compute()}}finally{k=!1}},w,O,N,R,S=class{constructor(){d(this,w,new Set);d(this,O,new Set);d(this,N,(...t)=>{for(let e of t)o(this,O).add(e)});a(this,"callBeforeGetValue",()=>{let[t]=G;t!=null&&o(this,N).call(this,t)});a(this,"callAfterSetChangesValue",(t,e)=>{for(let s of o(this,O))s.invalidate();o(this,R).call(this,t,e),ne()});d(this,R,(t,e)=>{for(let s of o(this,w))try{s(t,e)}catch(m){}});a(this,"onChange",t=>o(this,w).add(t));a(this,"listen",t=>{this.onChange(t),t(this.value,this.value)})}};w=new WeakMap,O=new WeakMap,N=new WeakMap,R=new WeakMap;var h,E,$,I,c=class extends S{constructor({initialValue:e,element:s},m){super();d(this,h,void 0);d(this,E,void 0);d(this,$,()=>{let e=o(this,E);p(this,E,o(this,h).value),this.callAfterSetChangesValue(o(this,h).value,e)});d(this,I,void 0);p(this,I,m),p(this,h,s),e!=null&&(o(this,h).value=e),o(this,h).addEventListener("input",()=>o(this,$).call(this)),o(this,h).addEventListener("change",()=>o(this,$).call(this))}get element(){return o(this,h)}get value(){return this.callBeforeGetValue(),o(this,h).value}set value(e){let s=o(this,h).value;o(this,I)!=null&&console.log("Update ".concat(o(this,I)),e,s),e!==s&&(o(this,h).value=p(this,E,e),this.callAfterSetChangesValue(e,s))}};h=new WeakMap,E=new WeakMap,$=new WeakMap,I=new WeakMap;var x,v=class extends S{constructor(e){super();d(this,x,void 0);p(this,x,e)}get value(){return this.callBeforeGetValue(),o(this,x)}set value(e){let s=o(this,x);s!==e&&(p(this,x,e),this.callAfterSetChangesValue(e,s))}};x=new WeakMap;var y,f,C,u=class extends S{constructor(e,s){super();this.logAs=s;d(this,y,void 0);d(this,f,!1);a(this,"compute",()=>{let e=o(this,y);G.unshift(this);let s;try{return p(this,y,s=o(this,C).call(this)),p(this,f,!0),s}finally{this.logAs!=null&&console.log("Computed ".concat(this.logAs),s),G.shift(),A.delete(this),o(this,f)&&s!==e&&this.callAfterSetChangesValue(s,e)}});d(this,C,void 0);p(this,C,e)}get valid(){return!o(this,f)}invalidate(){p(this,f,!1),A.add(this)}get value(){return this.callBeforeGetValue(),o(this,f)?o(this,y):this.compute()}};y=new WeakMap,f=new WeakMap,C=new WeakMap;var te=n=>{let t=n.trim(),e=parseFloat(t.slice(0,-2)),s=t.slice(-2);return{magnitude:e,units:s}},se=(n,t)=>{let e=te(n.getAttribute("font-size")),s=e.magnitude;return()=>{let i=n.getComputedTextLength(),r=Math.min(e.magnitude,s*t/i);r!=s&&(s=r,n.setAttribute("font-size","".concat(s).concat(e.units)))}},ae=n=>{let t=n,e=0,s={bold:!1,italics:!1,underline:!1},m={b:l=>{s.bold=!l},i:l=>{s.italics=!l},u:l=>{s.underline=!l}},i=[],r=l=>{let T=document.createElementNS("http://www.w3.org/2000/svg","tspan");T.textContent=l,s.underline&&(T.style.textDecoration="underline"),s.bold&&(T.style.fontWeight="bold"),s.italics&&(T.style.fontStyle="italic"),i.push(T)};for(;;){let l=t.indexOf("<",e);if(l<0)return r(t),i;let T=t.substring(l+1,l+2)==="/",z=t.indexOf(">",l+1);if(z<0)return r(t),i;let Q=t.substring(l+(T?2:1),z).toLocaleLowerCase(),W=m[Q];W!=null?(l>0&&r(t.substring(0,l)),W(T),t=t.substring(z+1),e=0):e=l+1}},le=["nameTagSvg"],oe=["nameTagLine1SvgText","nameTagLine2SvgText","nameTagLine3SvgText","nameTagLine4SvgText"],ie=[...le,...oe],J=String.raw,g=9,V=9,F="0.525pt",q,re=n=>J(q||(q=P(['<svg \n	id="','"\n	viewBox="0 0 '," ",'"\n	style="width: ',"cm; height: ",'cm; font-family: sans-serif; margin: 0; padding:0; background-color: white;"\n>\n	<text id="','" dominant-baseline="middle" text-anchor="middle" x="','" y="1.7" font-size="1.75pt" style="font-weight: bold;"></text>\n	<text id="','" dominant-baseline="middle" text-anchor="middle" x="','" y="3" font-size="','"></text>\n	<text id="','" dominant-baseline="middle" text-anchor="middle" x="','" y="4.25" font-size="','"></text>\n	<text id="','" dominant-baseline="middle" text-anchor="middle" x="','" y="5.4" font-size="','"></text>\n	<rect x="0" y="','" height="3" width="','" fill="rgba(64, 0, 0, 1)"></rect>\n	<text id="logoPlaceholder1" dominant-baseline="middle" text-anchor="middle" x="','" y="','" font-size="','" style="font-weight: bold; fill: white;">\n		<tspan>Event Branding</tspan>\n	</text>\n	<text id="logoPlaceholder2" dominant-baseline="middle" text-anchor="middle" x="','" y="','" font-size="','" style="font-weight: bold; fill: white;">\n		<tspan>Belongs Here</tspan>\n	</text>\n</svg>'])),n.nameTagSvg,g,V,g,V,n.nameTagLine1SvgText,g/2,n.nameTagLine2SvgText,g/2,F,n.nameTagLine3SvgText,g/2,F,n.nameTagLine4SvgText,g/2,F,V-2.99,g,g/2,V-2,F,g/2,V-.8,F),U,me=n=>{let t=re(n);return J(U||(U=P(['<label class="name-tag-preview-label">your name tag will look like this</label><div class="name-tag-container">',"</div>"])),t)},ue=8,H=class extends b{constructor(e,s,m){super(e,me,ie,m);this.observes=s;for(let[i,r]of[[this.elements.nameTagLine1SvgText,this.observes.nameTagLine1],[this.elements.nameTagLine2SvgText,this.observes.nameTagLine2],[this.elements.nameTagLine3SvgText,this.observes.nameTagLine3],[this.elements.nameTagLine4SvgText,this.observes.nameTagLine4]]){let l=se(i,ue);r.listen(T=>{i.replaceChildren(...ae(T)),l()})}}};var L={welcome:"welcome",prefer:"prefer",decline:"decline"},Te=["affiliateTextInputElement","nameTextInputElement","nameTagLine1TextInputElement","nameTagLine2TextInputElement","nameTagLine3TextInputElement","nameTagLine4TextInputElement","preferredThirdPersonPronounTextInputElement","opennessToTheyPronounsWelcome","opennessToTheyPronounsDecline","opennessToTheyPronounsWelcomeLabel","opennessToTheyPronounsPreferLabel","opennessToTheyPronounsDeclineLabel","opennessToTheyPronounsRadioButtonContainer"],de=["nameTagContainerElement"],he=[...Te,...de],pe=String.raw,K,ce=n=>pe(K||(K=P(['\n<div class="registration-form">\n  <div class="form-input-container">\n    <label for="','">name</label>\n    <input type="text" id="','" autocapitalize="words" placeholder="" />\n  </div>\n  <div class="form-input-container">\n    <label for="','">preferred pronouns</label>\n    <input type="text" id="','" autocapitalize="none" placeholder="they/them" />\n  </div>\n	<div id="','" class="radio-group-container">\n		<div class="radio-element-and-label-container">\n			<input type="radio" name="opennessToTheyPronouns" value="welcome" id="','" />\n			<label id="','" for="','">I welcome gender-neutral (<i>they</i>) pronouns.<br/>(this promotes inclusivity)</label>\n	</div>\n		<div class="radio-element-and-label-container">\n			<input type="radio" name="opennessToTheyPronouns" value="decline" id="','" />\n			<label id="','" for="','">I prefer other pronouns <b>only</b>.</label>\n		</div>\n	</div>\n	<div class="form-input-container">\n		<label for="','">affiliations(s)</label>\n		<input type="text" id="','" />\n	</div>\n	<div id="','"></div>\n  <div class="form-input-container">\n    <label for="','">\n			edit your name tag\n		</label>\n    <input type="text" id="','"/>\n    <label for="','"></label><input type="text" id="','"/>\n    <label for="','"></label><input type="text" id="','"/>\n    <label for="','"></label><input type="text" id="','"/>\n  </div>\n</div>\n'])),n.nameTextInputElement,n.nameTextInputElement,n.preferredThirdPersonPronounTextInputElement,n.preferredThirdPersonPronounTextInputElement,n.opennessToTheyPronounsRadioButtonContainer,n.opennessToTheyPronounsWelcome,n.opennessToTheyPronounsWelcomeLabel,n.opennessToTheyPronounsWelcome,n.opennessToTheyPronounsDecline,n.opennessToTheyPronounsDeclineLabel,n.opennessToTheyPronounsDecline,n.affiliateTextInputElement,n.affiliateTextInputElement,n.nameTagContainerElement,n.nameTagLine1TextInputElement,n.nameTagLine1TextInputElement,n.nameTagLine2TextInputElement,n.nameTagLine2TextInputElement,n.nameTagLine3TextInputElement,n.nameTagLine3TextInputElement,n.nameTagLine4TextInputElement,n.nameTagLine4TextInputElement),M=class extends b{constructor(e,s){super(e,ce,he,s);a(this,"nameTextInputElement");a(this,"affiliateTextInputElement");a(this,"preferredThirdPersonPronounTextInputElement");a(this,"opennessToTheyPronouns",new v(L.welcome));a(this,"nameTagLine1ObservableTextInputElement");a(this,"nameTagLine2ObservableTextInputElement");a(this,"nameTagLine3ObservableTextInputElement");a(this,"nameTagLine4ObservableTextInputElement");a(this,"nameTagLine1TextInputElementOverride",new v(!1));a(this,"nameTagLine2TextInputElementOverride",new v(!1));a(this,"nameTagLine3TextInputElementOverride",new v(!1));a(this,"nameTagLine4TextInputElementOverride",new v(!1));a(this,"preferredThirdPersonPronounsFromInputText",new u(()=>{let e=/[\s\/,]+/;return this.preferredThirdPersonPronounTextInputElement.value.split(e).map(s=>s.trim()).filter(s=>s.length>0)}));a(this,"preferredThirdPersonPronounsFromInputTextSeparatedBySlash",new u(()=>this.preferredThirdPersonPronounsFromInputText.value.join("/")));a(this,"preferredThirdPersonPronounsFromInputTextContainsThey",new u(()=>this.preferredThirdPersonPronounsFromInputText.value.find(e=>e.toLocaleLowerCase()==="they")!=null));a(this,"preferredThirdPersonPronouns",new u(()=>this.preferredThirdPersonPronounsFromInputText.value.length===0?["they","them"]:[...this.preferredThirdPersonPronounsFromInputText.value,...this.opennessToTheyPronouns.value===L.prefer&&this.preferredThirdPersonPronounsFromInputTextContainsThey.value===!1?["they"]:[]]));a(this,"myOwnThirdPartyPronouns",new u(()=>this.preferredThirdPersonPronounsFromInputText.value.length>0?this.preferredThirdPersonPronounsFromInputText.value.join("/"):"my own pronouns"));a(this,"theyIsAmongPreferredThirdPersonPronouns",new u(()=>this.preferredThirdPersonPronouns.value.find(e=>e.toLocaleLowerCase()==="they")!=null));a(this,"firstName",new u(()=>{var e;return(e=this.nameTextInputElement.value.trim().split(" ").filter(s=>!s.endsWith("."))[0])!=null?e:""}));a(this,"nameTagLine1TextInputElementPlaceholder",new u(()=>this.firstName.value));a(this,"nameTagLine1",new u(()=>this.nameTagLine1ObservableTextInputElement.value.length>0?this.nameTagLine1ObservableTextInputElement.value:this.nameTagLine1TextInputElementPlaceholder.value));a(this,"nameTagLine2TextInputElementPlaceholder",new u(()=>{let e=this.nameTextInputElement.value,s=this.nameTagLine1.value;return e.startsWith(s)?e.slice(s.length).trim():e}));a(this,"nameTagLine2",new u(()=>this.nameTagLine2ObservableTextInputElement.value.length>0?this.nameTagLine2ObservableTextInputElement.value:this.nameTagLine2TextInputElementPlaceholder.value));a(this,"nameTagLine3TextInputElementPlaceholder",new u(()=>this.affiliateTextInputElement.value));a(this,"nameTagLine3",new u(()=>this.nameTagLine3ObservableTextInputElement.value.length>0?this.nameTagLine3ObservableTextInputElement.value:this.nameTagLine3TextInputElementPlaceholder.value));a(this,"nameTagLine4TextInputElementPlaceholder",new u(()=>{let e=this.opennessToTheyPronouns.value===L.welcome&&!this.theyIsAmongPreferredThirdPersonPronouns.value,s=this.opennessToTheyPronouns.value===L.decline&&!this.theyIsAmongPreferredThirdPersonPronouns.value;return"".concat(this.preferredThirdPersonPronouns.value.join("/")).concat(e?" <i>or they</i>":"").concat(s?" <b>only</b>":"")}));a(this,"nameTagLine4",new u(()=>this.nameTagLine4ObservableTextInputElement.value.length>0?this.nameTagLine4ObservableTextInputElement.value:this.nameTagLine4TextInputElementPlaceholder.value));a(this,"prefersThey",new u(()=>this.preferredThirdPersonPronounsFromInputText.value.length===0||this.preferredThirdPersonPronounsFromInputTextContainsThey.value===!0));this.nameTextInputElement=new c({initialValue:"",element:this.elements.nameTextInputElement}),this.affiliateTextInputElement=new c({initialValue:"",element:this.elements.affiliateTextInputElement}),this.preferredThirdPersonPronounTextInputElement=new c({initialValue:"",element:this.elements.preferredThirdPersonPronounTextInputElement}),this.myOwnThirdPartyPronouns.listen(i=>{this.elements.opennessToTheyPronounsDeclineLabel.textContent="I prefer ".concat(this.prefersThey.value?"other pronouns":i),this.elements.opennessToTheyPronounsDeclineLabel.innerHTML+=" <i>only</i>."});let m=[[this.elements.opennessToTheyPronounsDecline,this.elements.opennessToTheyPronounsDeclineLabel,L.decline],[this.elements.opennessToTheyPronounsWelcome,this.elements.opennessToTheyPronounsWelcomeLabel,L.welcome]];this.prefersThey.listen(i=>{m.forEach(([r,l])=>{i?(r.setAttribute("disabled",""),l!==this.elements.opennessToTheyPronounsWelcomeLabel&&l.style.setProperty("color","rgba(128, 128, 128, 0.4")):(r.removeAttribute("disabled"),l.style.removeProperty("color"))})}),m.forEach(([i,r,l])=>{i.addEventListener("change",()=>{this.opennessToTheyPronouns.value=l}),r.addEventListener("click",()=>{this.prefersThey.value||(this.opennessToTheyPronouns.value=l)}),this.opennessToTheyPronouns.listen(T=>{l===T?i.setAttribute("checked",""):i.removeAttribute("checked")})}),this.nameTagLine1ObservableTextInputElement=new c({initialValue:"",element:this.elements.nameTagLine1TextInputElement}),this.nameTagLine2ObservableTextInputElement=new c({initialValue:"",element:this.elements.nameTagLine2TextInputElement}),this.nameTagLine3ObservableTextInputElement=new c({initialValue:"",element:this.elements.nameTagLine3TextInputElement}),this.nameTagLine4ObservableTextInputElement=new c({initialValue:"",element:this.elements.nameTagLine4TextInputElement});for(let[i,r,l]of[[this.nameTagLine1TextInputElementPlaceholder,this.nameTagLine1ObservableTextInputElement,this.nameTagLine1TextInputElementOverride],[this.nameTagLine2TextInputElementPlaceholder,this.nameTagLine2ObservableTextInputElement,this.nameTagLine2TextInputElementOverride],[this.nameTagLine3TextInputElementPlaceholder,this.nameTagLine3ObservableTextInputElement,this.nameTagLine3TextInputElementOverride],[this.nameTagLine4TextInputElementPlaceholder,this.nameTagLine4ObservableTextInputElement,this.nameTagLine4TextInputElementOverride]])i.listen(T=>{r.element.setAttribute("placeholder",T!=null?T:""),l.value||(r.value=T)}),r.element.addEventListener("blur",()=>{l.value=r.value.length>0&&r.value!==i.value});new H(this.elements.nameTagContainerElement,this)}get name(){return this.nameTextInputElement.value.trim()}};document.addEventListener("DOMContentLoaded",()=>{let n=document.querySelector("[data-registration-form-here]");n!=null&&new M(n)});})();
//# sourceMappingURL=registration-pronouns.js.map
